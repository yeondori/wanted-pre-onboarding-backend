# wanted-pre-onboarding-backend

ğŸš€[í”„ë¦¬ì˜¨ë³´ë”© ë°±ì—”ë“œ ì¸í„´ì‹­ ì„ ë°œê³¼ì œ](https://bow-hair-db3.notion.site/1850bca26fda4e0ca1410df270c03409) ìˆ˜í–‰ ë‚´ìš©
ìì„¸í•œ ìˆ˜í–‰ ê³¼ì • ê¸°ë¡ì€ <https://yeondori.github.io/> ì—ì„œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ‘†ğŸ»í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­

ì•„ë˜ì˜ ì„œë¹„ìŠ¤ ê°œìš” ë° ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ëŠ” API ì„œë²„ë¥¼ êµ¬í˜„í•œë‹¤.

### ì„œë¹„ìŠ¤ ê°œìš”
- ë³¸ ì„œë¹„ìŠ¤ëŠ” ê¸°ì—…ì˜ ì±„ìš©ì„ ìœ„í•œ ì›¹ ì„œë¹„ìŠ¤ì´ë‹¤.
- íšŒì‚¬ëŠ” ì±„ìš©ê³µê³ ë¥¼ ìƒì„±í•˜ê³ , ì´ì— ì‚¬ìš©ìëŠ” ì§€ì›í•œë‹¤.

### ì„œë¹„ìŠ¤ ìš”êµ¬ì‚¬í•­

1. ì±„ìš©ê³µê³  ë“±ë¡ 
2. ì±„ìš©ê³µê³  ìˆ˜ì • (íšŒì‚¬ id ì´ì™¸ ëª¨ë‘ ìˆ˜ì • ê°€ëŠ¥)
3. ì±„ìš©ê³µê³  ì‚­ì œ
4. ì±„ìš©ê³µê³  ëª©ë¡ ê°€ì ¸ì˜¤ê¸°

   â¡ï¸ ì‚¬ìš©ìëŠ” ì±„ìš©ê³µê³  ëª©ë¡ì„ ì•„ë˜ì™€ ê°™ì´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
   > Example)
       # ë°ì´í„° ì˜ˆì‹œì´ë©°, í•„ë“œëª…ì€ ì„ì˜ë¡œ ì„¤ì •ê°€ëŠ¥í•©ë‹ˆë‹¤.
       {
       "íšŒì‚¬_id":íšŒì‚¬_id,
       "ì±„ìš©í¬ì§€ì…˜":"ë°±ì—”ë“œ ì£¼ë‹ˆì–´ ê°œë°œì",
       "ì±„ìš©ë³´ìƒê¸ˆ":1000000,
       "ì±„ìš©ë‚´ìš©":"ì›í‹°ë“œë©ì—ì„œ ë°±ì—”ë“œ ì£¼ë‹ˆì–´ ê°œë°œìë¥¼ ì±„ìš©í•©ë‹ˆë‹¤. ìê²©ìš”ê±´ì€..",
       "ì‚¬ìš©ê¸°ìˆ ":"Python"
       }           
        
      â¡ï¸ ì±„ìš©ê³µê³  ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„(ì„ íƒì‚¬í•­ ë° ê°€ì‚°ì ìš”ì†Œ)


5. ì±„ìš© ìƒì„¸ í˜ì´ì§€

   â¡ï¸ ì‚¬ìš©ìëŠ” ì±„ìš©ìƒì„¸ í˜ì´ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

   â¡ï¸â€œì±„ìš©ë‚´ìš©â€ì´ ì¶”ê°€ì ìœ¼ë¡œ ë‹´ê²¨ìˆìŒ

   â¡ï¸í•´ë‹¹ íšŒì‚¬ê°€ ì˜¬ë¦° ë‹¤ë¥¸ ì±„ìš©ê³µê³ ê°€ ì¶”ê°€ì ìœ¼ë¡œ í¬í•¨ **(ì„ íƒì‚¬í•­ ë° ê°€ì‚°ì ìš”ì†Œ).**

6. ì‚¬ìš©ìëŠ” ì±„ìš©ê³µê³ ì— ì§€ì›(ì„ íƒì‚¬í•­ ë° ê°€ì‚°ì ìš”ì†Œ)

   â¡ï¸ ì‚¬ìš©ìëŠ” ì±„ìš©ê³µê³  ì§€ì› (ê°€ì  ìš”ì†Œì´ë©°, í•„ìˆ˜ êµ¬í˜„ ìš”ì†Œê°€ ì•„ë‹˜) 

   â¡ï¸ì‚¬ìš©ìëŠ” 1íšŒë§Œ ì§€ì› ê°€ëŠ¥

### ê°œë°œ ì‹œ ì°¸ì¡°ì‚¬í•­

- ìš”êµ¬ì‚¬í•­(ì˜ë„)ì„ ë§Œì¡±ì‹œí‚¨ë‹¤ë©´ ë‹¤ë¥¸ í˜•íƒœì˜ ìš”ì²­ ë° ë¦¬ìŠ¤í°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ë„ ì¢‹ë‹¤.
- í•„ìš”í•œ ëª¨ë¸: íšŒì‚¬, ì‚¬ìš©ì, ì±„ìš©ê³µê³ , ì§€ì›ë‚´ì—­(ì„ íƒì‚¬í•­)
  (ì´ì™¸ ì¶”ê°€ ëª¨ë¸ì •ì˜ëŠ” ììœ )
- í•„ë“œëª…ì€ ì„ì˜ë¡œ ìƒì„± ê°€ëŠ¥.
- íšŒì‚¬, ì‚¬ìš©ì ë“±ë¡ ì ˆì°¨ëŠ” ìƒëµ.
  (DBì— ì„ì˜ë¡œ ìƒì„±í•˜ì—¬ ì§„í–‰)
- ë¡œê·¸ì¸ ë“± ì‚¬ìš©ì ì¸ì¦ì ˆì°¨(í† í° ë“±)ëŠ” ìƒëµ.
- Frontend ìš”ì†Œ(html, css, js ë“±)ëŠ” ê°œë°œ ë²”ìœ„ì— ì œì™¸.
  (êµ¬í˜„ì‹œ ë¶ˆì´ìµì€ ì—†ì§€ë§Œ, í‰ê°€ì— ì´ì  ë˜í•œ ì—†ìŠµë‹ˆë‹¤.)
- ëª…ì‹œë˜ì§€ ì•Šì€ ì¡°ê±´ ë˜í•œ ììœ ë¡­ê²Œ ê°œë°œ ê°€ëŠ¥.

## âš™ï¸í”„ë¡œì íŠ¸ êµ¬ì¶• ![img](https://img.shields.io/badge/gradle-02303A?style=for-the-badge&logo=gradle&logoColor=white) ![img](https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white) ![Spring Boot](https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white)

- Project: Gradel
- Language: Java
- Spring Boot: 3.1.3 
- Java: 17
- Dependencies: Lombok, Spring Web, Thymeleaf, Spring Data JPA, H2 Database ... 

## ğŸ“„ë°ì´í„° ëª¨ë¸ë§ ë° ê³„ì¸µ êµ¬ì¡°

### ë°ì´í„° ëª¨ë¸ë§
![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/e0e2220b-ac70-41c3-98e6-548186654279)

### Web Appication ê³„ì¸µ êµ¬ì¡°
![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/1c1f068b-31ec-4c3b-a375-1d98804411b4)

### ì´ˆê¸° ë°ì´í„°
data.sql ì°¸ê³ 
![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/c67b38c2-1b0a-464c-88bb-092a07d174ed)

## ğŸ“‘API ì„¤ê³„
![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/17aa82f6-cf78-4f56-8728-af9da73453a3)

## ğŸ“‘Web Application êµ¬ì„±

![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/0659af8b-84af-41a9-8751-f6aadd180e25)

### ë©”ì¸ í˜ì´ì§€
![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/3354617a-49c5-443b-bc6f-e3cf87ee6047)

#### ê²€ìƒ‰ ê¸°ëŠ¥

PostRepository
```java
@Query("SELECT p FROM JobPosting p " +
        "WHERE p.company.name LIKE %:keyword% " +
        "OR p.company.country LIKE %:keyword% " +
        "OR p.company.region LIKE %:keyword% " +
        "OR p.jobPosition LIKE %:keyword% " +
        "OR p.recruitmentDetails LIKE %:keyword% " +
        "OR p.technologyUsed LIKE %:keyword% " +
        "OR CAST(p.recruitmentCompensation AS string) LIKE %:keyword%")
List<JobPosting> findBySearchKeyword(String keyword);
```
++23.1018 11:42 ìˆ˜ì •

PostService

```java
public List<JobPosting> findBySearchKeyword(String keyword) { return postRepository.findBySearchKeyword(keyword);}
```
PostController

```java
// ì±„ìš©ê³µê³  ê²€ìƒ‰
@GetMapping("/search")
public String searchJobPostings(@RequestParam("keyword") String keyword, Model model) {
if (keyword.isEmpty()) {
return "redirect:/jobpostings"; // ê²€ìƒ‰ í‚¤ì›Œë“œê°€ ì—†ëŠ” ê²½ìš° ì±„ìš©ê³µê³  ëª©ë¡ ë°˜í™˜
} else {
List<JobPosting> searchResults = postService.findBySearchKeyword(keyword);
model.addAttribute("keyword", keyword);

            if (searchResults.isEmpty()) {
                return "jobpostings/noResults"; // ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ëŠ” ê²½ìš°ì— ëŒ€í•œ ë·°
            } else {
                List<JobPostingDTO> searchResultsDTO = mapToJobPostingDTOList(searchResults);
                model.addAttribute("searchResults", searchResultsDTO);

                return "jobpostings/searchResults"; // ê²€ìƒ‰ ê²°ê³¼ê°€ ìˆëŠ” ê²½ìš°ì— ëŒ€í•œ ë·°
            }
        }
    }
```

![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/c069ef9b-2a0f-4073-bc88-01b813b01c8d)

-**Case 1: ê²€ìƒ‰ì–´ë¥¼ í¬í•¨í•˜ëŠ” ë°ì´í„°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°** ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ ë°˜í™˜

-**Case 2: ê²€ìƒ‰ì–´ë¥¼ í¬í•¨í•˜ëŠ” ë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°** ê²€ìƒ‰ ê²°ê³¼ ë°˜í™˜

-**Case 3: ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì§€ ì•Šì€ ê²½ìš°** ì±„ìš©ê³µê³  ëª©ë¡ ë°˜í™˜



#### ê¸°ì—…íšŒì› - ê¸°ì—… í™ˆí™”ë©´
![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/e57ce02d-00a9-49e4-be95-8068dff2b69a)

ê¸°ì—… IDë¥¼ ì…ë ¥ í›„ [ê¸°ì—… í˜ì´ì§€ë¡œ ì´ë™] ë²„íŠ¼ í´ë¦­ ì‹œ ê¸°ì—… ì „ìš© í˜ì´ì§€ë¡œ ì´ë™

##### ê¸°ì—… ì „ìš© í˜ì´ì§€
![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/5b20f447-9785-4f06-956f-d07c6e8be610)

- ì±„ìš©ê³µê³  ë“±ë¡ ê¸°ëŠ¥
![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/db5fe2cd-9697-4995-ab66-2f9cfd52d906)
    companyIdëŠ” ìˆ˜ì •ì´ ë¶ˆê°€í•˜ë‹¤. ë“±ë¡ í›„ ê¸°ì—… ì „ìš© í˜ì´ì§€ ë°˜í™˜


- ì±„ìš©ê³µê³  ìˆ˜ì • ê¸°ëŠ¥
![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/829fe340-b945-431b-a74d-a27efbae53e6)
    companyIdë¥¼ ì œì™¸í•œ ëª¨ë“  í•­ëª© ìˆ˜ì • ê°€ëŠ¥. ìˆ˜ì • í›„ ê¸°ì—… ì „ìš© í˜ì´ì§€ ë°˜í™˜


- ì±„ìš©ê³µê³  ì‚­ì œ ê¸°ëŠ¥
![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/1532f4dd-ce0a-42a6-a859-f6a2f69e4066)
    ì‚­ì œ ì‹œ ê¸°ì—… ì „ìš© í˜ì´ì§€ ë°˜í™˜


#### ì¼ë°˜íšŒì› - ì±„ìš©ê³µê³  ëª©ë¡
![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/16efb292-2de7-4179-8600-cf11543034d9)
ìƒì„¸ë³´ê¸° í´ë¦­ ì‹œ ì±„ìš©ê³µê³ ì˜ ì±„ìš© ë‚´ìš© ë° í•´ë‹¹ íšŒì‚¬ì˜ ë‹¤ë¥¸ ê³µê³ ë¥¼ í™•ì¸ ê°€ëŠ¥í•˜ë©°, ì§€ì› ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. 

##### ì¼ë°˜íšŒì› - ìƒì„¸ í˜ì´ì§€
ë‹¤ë¥¸ ê³µê³ ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš° "ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." ë©”ì„¸ì§€ë¥¼ ì¶œë ¥í•˜ê³ , ì¡´ì¬í•˜ëŠ” ê²½ìš° í•´ë‹¹ ê³µê³ ì˜ ID ë¦¬ìŠ¤íŠ¸ë¥¼ í•˜ì´í¼ë§í¬ í˜•ì‹ìœ¼ë¡œ ì œê³µ.

Company ì—”í‹°í‹°ì— getJobPostingIdList ë©”ì†Œë“œë¥¼ ìƒì„±
```java
public List<Long> getJobPostingIdList() {
List<Long> idList = new ArrayList<>();
for (JobPosting jobPosting : jobPostingList) {
idList.add(jobPosting.getId());
}
return idList;
}
```

PostControllerì—ì„œ ìƒì„¸ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë©”ì†Œë“œë¥¼ ìƒì„±í•œë‹¤.
Companyì˜ getJobPostingIdListë¡œ ê°€ì ¸ì˜¨ ë¦¬ìŠ¤íŠ¸ì—ì„œ í˜„ì¬ì˜ ì±„ìš©ê³µê³  IDë¥¼ ì‚­ì œí•œ í›„ ì´ë¥¼ ë°˜í™˜í•œë‹¤.
(ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆëŠ” ê²½ìš° "None" ì„ ë°˜í™˜)
```java
// ì±„ìš©ê³µê³  ìƒì„¸
@GetMapping("/{id}")
public String retrieveDetails(@PathVariable Long id, Model model) {
Optional<JobPosting> selectedPost = postService.findById(id);
if (!selectedPost.isPresent()) {
throw new UserNotFoundException(String.format("ID[%s] is not found", id));
}
model.addAttribute("jobPosting", selectedPost.get());

        List<Long> jobPostingIdList = selectedPost.get().getCompany().getJobPostingIdList();
        jobPostingIdList.remove(id); // í˜„ì¬ ì±„ìš©ê³µê³  IDë¥¼ ì‚­ì œ

        if (jobPostingIdList.isEmpty()) {
            model.addAttribute("anotherPosts", "None");
        } else {
            model.addAttribute("anotherPosts", jobPostingIdList);
        }

        return "jobpostings/postDetails";
    }
```
##### ì¼ë°˜íšŒì› - ì§€ì› ê¸°ëŠ¥

PostControllerì˜ ì±„ìš©ê³µê³  ì§€ì› ë©”ì†Œë“œ 
```java
// ì±„ìš©ê³µê³  ì§€ì›
public static final int SUCCESS = 1;
public static final int MEMBER_NOT_FOUND = 2;
public static final int POST_NOT_FOUND = 3;
public static final int ALREADY_APPLIED = 4;

    @PostMapping("/{id}/apply")
    public String applyForJob(@PathVariable Long id, @RequestParam String memberId, Model model) {
        Long applicantId = Long.parseLong(memberId);
        Map<String, Object> response = new HashMap<>();
        int status = SUCCESS;

        if (memberService.findById(applicantId).isEmpty()) {
            status = MEMBER_NOT_FOUND;
        } else {
            Optional<JobPosting> selectedPost = postService.findById(id);
            if (!selectedPost.isPresent()) {
                status = POST_NOT_FOUND;
            } else {
                JobPosting jobPosting = selectedPost.get();
                Member applicant = memberService.findById(applicantId).get();
                if (applicant.getAppliedPosting() != null) {
                    status = ALREADY_APPLIED;
                } else {
                    applicant.setAppliedPosting(jobPosting);
                    memberService.save(applicant);
                    postService.save(jobPosting);
                }
            }
        }
        model.addAttribute("jobPostingId", id);
        model.addAttribute("applicantId", applicantId);
        model.addAttribute("applyStatus", status);
        return "jobpostings/applyResult";
    }
```

![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/217d0a59-2102-4413-aa77-ad88fa51b41c)
Case 5: ì±„ìš© ê³µê³ ê°€ ì‚­ì œë˜ì–´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°
![image](https://github.com/yeondori/wanted-pre-onboarding-backend/assets/93027942/33fa5004-2d6a-46ef-af01-2bf9dccf579d)

-**Case 1: ì§€ì›ì´ë ¥ì´ ì—†ëŠ” ë©¤ë²„ê°€ ì§€ì›í•œ ê²½ìš°** ì±„ìš©ê³µê³ ì™€ ì§€ì›ì ID ë°˜í™˜

-**Case 2: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë©¤ë²„ê°€ ì§€ì›í•œ ê²½ìš°** ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íšŒì› ë¬¸êµ¬ ë°˜í™˜

-**Case 3: ì§€ì›ì´ë ¥ì´ ìˆëŠ” ë©¤ë²„ê°€ ì§€ì›í•œ ê²½ìš°** ì§€ì›ë¶ˆê°€ ë¬¸êµ¬ ë°˜í™˜

-**Case 4: ì±„ìš©ê³µê³ ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°** ì±„ìš©ê³µê³  ì—†ìŒ ë¬¸êµ¬ ë°˜í™˜


## âš’ï¸Develop

- í…ŒìŠ¤íŠ¸ 
- ê¸°ì—…, ì‚¬ìš©ì ID ë“±ë¡ ë° ì¸ì¦ ì ˆì°¨
- ì—”í‹°í‹° ì—°ê´€ê´€ê³„, í•¨ìˆ˜ ê°œì„ 
- URI ë³€ìˆ˜ëª… í†µì¼